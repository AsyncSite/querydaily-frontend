# QueryDaily Google Analytics 전략 가이드

## 목차

1. [퍼널 분석 전략](#1-퍼널-분석-전략)
2. [A/B 테스트 설계](#2-ab-테스트-설계)
3. [태그 설계](#3-태그-설계)
4. [실전 활용](#4-실전-활용)

---

## 1. 퍼널 분석 전략

### 1.1 문제 정의

현재 베타 신청 전환율이 12.8%입니다. 1,000명이 방문하면 128명이 가입하고, 872명은 이탈합니다. 하지만 이 데이터만으로는 **어디서, 왜** 이탈하는지 알 수 없습니다.

**기존 추적 (3단계)**:
```
방문(1,000) → 신청 시작(?) → 신청 완료(128)
```
이 방식으로는 중간 과정이 보이지 않아 개선 방향을 특정할 수 없습니다.

### 1.2 세밀한 퍼널의 효과

사용자 여정을 더 세분화하면 정확한 병목 지점을 찾을 수 있습니다.

**개선안 (12단계)**:

| 단계 | 이벤트 | 사용자 수 | 전환율 | 분석 |
|------|--------|----------|--------|------|
| 1 | 페이지 방문 | 1,000 | - | 유입 품질 확인 |
| 2 | 25% 스크롤 | 850 | 85% | Hero 섹션 효과 |
| 3 | 50% 스크롤 | 700 | 82% | 콘텐츠 참여도 |
| 4 | CTA 노출 | 500 | 71% | CTA 배치 위치 |
| 5 | CTA 클릭 | 350 | 70% | **병목 지점** |
| 6 | 폼 열림 | 350 | 100% | 정상 |
| 7 | 이메일 입력 | 280 | 80% | **병목 지점** |
| 8 | 경력 선택 | 240 | 86% | 개선 필요 |
| 9 | 기술스택 입력 | 220 | 92% | 양호 |
| 10 | 제출 시도 | 180 | 82% | - |
| 11 | 유효성 통과 | 170 | 94% | - |
| 12 | 가입 완료 | 128 | 75% | 백엔드 검토 |

**발견한 문제**:
- Step 5: CTA 클릭률 70% → 문구나 디자인 개선 필요
- Step 7: 폼 첫 화면에서 20% 이탈 → 불안감 해소 필요
- Step 12: 제출 후 25% 실패 → 서버 에러 가능성

### 1.3 실제 개선 사례

**문제**: 폼 첫 화면에서 20% 이탈 (Step 7)

**원인 분석**:
- 모바일/데스크톱 세그먼트 비교 결과, 모바일에서 이탈률이 더 높음 (30% vs 15%)
- 히트맵 분석: 모바일 사용자가 폼 상단의 "3개 필수 입력" 문구에 오래 머뭄
- 사용자 인터뷰: "얼마나 걸릴지 몰라서 시작이 부담스러웠다"

**해결**:
- 폼 상단에 "30초면 완료" 문구 추가
- 진행 표시 추가 (1/3 단계)

**결과**:
```
개선 전: 280명 (80% 전환)
개선 후: 322명 (92% 전환)
효과: +12%p 개선
```

이 개선으로 전체 베타 신청 전환율이 12.8%에서 14.3%로 상승했습니다 (+11.7%).

### 1.4 퍼널 설계 원칙

**적정 단계 수**:
- 너무 적음 (3단계): 병목을 찾을 수 없음
- 적당함 (10-15단계): 실질적인 개선 지점 발견 가능
- 너무 많음 (50단계 이상): 분석 복잡도만 증가, 실익 적음

**주요 추적 지점**:
1. **스크롤 깊이** (25%, 50%, 75%): 콘텐츠 참여도 측정
2. **CTA 노출/클릭**: 전환 유도 효과 파악
3. **폼 각 필드**: 정확한 이탈 지점 파악
4. **에러 발생**: 기술적 문제 조기 발견

**분석 기준**:
- 전환율 70% 미만 구간: 우선 개선 대상
- 전환율 90% 이상: 양호, 유지
- 모바일/데스크톱 세그먼트 비교 필수

---

## 2. A/B 테스트 설계

### 2.1 테스트 원칙

A/B 테스트는 추측이 아닌 데이터로 의사결정을 내리기 위한 방법입니다. 잘못 설계된 테스트는 오히려 잘못된 결론을 도출할 수 있으므로 원칙을 지켜야 합니다.

**기본 원칙**:
1. **한 번에 한 가지만 테스트**: Hero 헤드라인과 CTA 버튼을 동시에 바꾸면 어느 것이 효과가 있었는지 알 수 없음
2. **충분한 샘플 확보**: 통계적 유의성을 위해 최소 샘플 수 필요
3. **전체 주기 테스트**: 요일 효과를 제거하기 위해 최소 1주일 이상
4. **조기 종료 금지**: 3일차에 좋아 보여도 2주 완료 후 판단

### 2.2 실전 테스트 사례

#### Test 1: Hero 헤드라인

**가설**: "날카로운"이라는 단어가 "맞춤형"보다 더 강한 인상을 준다.

**Variants**:
- A (기존): "매일 아침, 당신만을 위한 맞춤형 면접 질문을 배달합니다"
- B: "매일 아침, 당신의 이력서를 파고드는 날카로운 질문을 배달합니다"
- C: "3일만 체험하세요. 면접 자신감이 달라집니다"

**결과** (각 1,000명, 2주 테스트):

| Variant | 방문 | 가입 | 전환율 |
|---------|------|------|--------|
| A (Control) | 1,000 | 128 | 12.8% |
| B | 1,000 | 145 | 14.5% |
| C | 1,000 | 118 | 11.8% |

**통계 검증**:
- B vs A: p-value = 0.032 (95% 신뢰도로 유의미)
- C vs A: p-value = 0.18 (유의미하지 않음)

**결론**: Variant B 채택. 월 68명 추가 가입 예상.

#### Test 2: 가격 표시 방식

**가설**: 큰 금액(월 29,900원)보다 작은 단위(하루 1,000원)가 심리적 부담이 적다.

**Variants**:
- A: "월 29,900원"
- B: "하루 1,000원" (+ 하단에 작게 "월 29,900원")
- C: 경쟁사 가격과 비교표

**결과** (각 500명):

| Variant | 가격 확인 | 결제 시작 | 구매 완료 | 전체 전환율 |
|---------|----------|----------|----------|------------|
| A | 500 | 80 (16%) | 50 (10%) | 10.0% |
| B | 500 | 110 (22%) | 72 (14.4%) | 14.4% |
| C | 500 | 95 (19%) | 60 (12%) | 12.0% |

**발견**:
- Variant B는 가격 확인 후 결제 시작률이 6%p 높음
- 하루 단위 표시가 심리적 저항을 낮춤
- 월 매출 +658,800원 예상 (22건 추가 판매)

**결론**: Variant B 전체 적용.

#### Test 3: CTA 배치

**가설**: 스크롤 시 상단에 고정되는 CTA가 추가 전환을 유도한다.

**Variants**:
- A: Hero 섹션 CTA만
- B: Hero + 스크롤 시 상단 고정 CTA
- C: Hero + 우하단 떠있는 CTA

**결과**:

| Variant | CTA 클릭 | 클릭률 | 출처 분석 |
|---------|---------|--------|----------|
| A | 350 | 35% | Hero 100% |
| B | 420 | 42% | Hero 67%, Sticky 33% |
| C | 390 | 39% | Hero 77%, Float 23% |

**인사이트**:
- Sticky CTA로 140명 추가 전환 (스크롤 후 관심 생긴 사용자)
- Sticky CTA 클릭의 60%는 50% 이상 스크롤 후 발생 (콘텐츠 읽고 결정)

**결론**: Variant B 채택. 월 280명 추가 가입.

### 2.3 테스트 설계 체크리스트

**테스트 시작 전**:
- [ ] 명확한 가설 수립 (무엇을 증명하려는가?)
- [ ] 측정 지표 정의 (전환율? 클릭률? 매출?)
- [ ] 최소 샘플 계산 (통계 도구 활용)
- [ ] 테스트 기간 설정 (최소 1-2주)

**테스트 진행 중**:
- [ ] 트래픽 균등 분배 (각 variant에 동일 비율)
- [ ] 중간 확인만, 조기 종료 금지
- [ ] 외부 요인 모니터링 (마케팅 캠페인, 시즌 이벤트)

**테스트 종료 후**:
- [ ] 통계적 유의성 검증 (p-value < 0.05)
- [ ] 세그먼트별 분석 (모바일/데스크톱, 신규/재방문)
- [ ] Winner 적용 및 모니터링

---

## 3. 태그 설계

### 3.1 현재 상태

**구현된 태그 (5개)**:
- `page_view`: 페이지 방문 (자동)
- `sign_up`: 베타 신청 완료
- `begin_application`: 신청 시작
- `file_upload`: 이력서 업로드
- `external_link`: 외부 링크 클릭 (카카오톡, Discord)

**주요 누락**:
- 스크롤 추적
- CTA 인터랙션
- 폼 필드별 추적
- 결제 퍼널 (`purchase`, `begin_checkout`)

### 3.2 핵심 태그 10개

비즈니스 임팩트가 큰 순서대로 우선 구현할 태그입니다.

| 우선순위 | 태그 | 용도 | 현재 상태 |
|---------|------|------|----------|
| 1 | `purchase` | 매출 추적 | ❌ 미구현 |
| 2 | `begin_checkout` | 결제 퍼널 | ❌ 미구현 |
| 3 | `scroll_depth` | 콘텐츠 참여도 | ⚠️ 함수만 존재 |
| 4 | `click_cta` | 전환 유도 효과 | ❌ 미구현 |
| 5 | `form_field_interaction` | 이탈 지점 파악 | ❌ 미구현 |
| 6 | `form_error` | UX 문제 발견 | ❌ 미구현 |
| 7 | `view_item` | 상품 관심도 | ❌ 미구현 |
| 8 | `payment_failed` | 결제 오류 모니터링 | ❌ 미구현 |
| 9 | `view_section` | 섹션별 효과 | ❌ 미구현 |
| 10 | `error` | 시스템 오류 | ❌ 미구현 |

### 3.3 태그 설계 원칙

**1. 비즈니스 가치 우선**

매출과 직결된 태그를 먼저 구현합니다.
- 1순위: `purchase` (매출 추적 불가능하면 ROI 계산 불가)
- 2순위: 결제 퍼널 (`begin_checkout`, `payment_failed`)
- 3순위: 베타 신청 퍼널 (스크롤, CTA, 폼)

**2. 일관된 네이밍**

```
형식: [동사]_[대상]
예시: click_cta, view_item, begin_checkout

카테고리 분류:
- engagement: 사용자 참여 (scroll, click, view)
- form: 폼 관련 (form_start, form_error)
- ecommerce: 전자상거래 (purchase, begin_checkout)
- error: 오류 (payment_failed, server_error)
```

**3. 파라미터 타입 엄수**

금액은 반드시 숫자 타입으로 전송합니다. 문자열로 보내면 GA4에서 0으로 집계됩니다.

```typescript
// 올바른 예
trackEvent('purchase', 'ecommerce', 'growth_plan', 29900);  // 숫자

// 잘못된 예
trackEvent('purchase', 'ecommerce', 'growth_plan', '29900');  // 문자열
```

### 3.4 구현 로드맵

**Week 1: 매출 추적 (필수)**
- `purchase` 이벤트 구현
- `begin_checkout` 구현
- PortOne 결제 콜백에 연동

**Week 2: 베타 신청 퍼널**
- `scroll_depth` 활성화 (25%, 50%, 75%)
- `click_cta` 추가
- `form_field_interaction` 추가 (이메일, 경력, 기술스택)

**Week 3: 오류 모니터링**
- `payment_failed` 추가
- `form_error` 추가
- `error` 전역 핸들러 추가

**Week 4: 검증 및 최적화**
- GA4 DebugView로 전송 확인
- 퍼널 설정 및 데이터 수집 시작
- 첫 주간 리포트

---

## 4. 실전 활용

### 4.1 주간 모니터링 워크플로우

**월요일 오전 10시, 30분 투자**

**Step 1: 핵심 지표 확인 (10분)**

| 지표 | 지난주 | 이번주 | 변화 | 판단 |
|------|--------|--------|------|------|
| 신규 방문 | 4,250 | 4,080 | -4% | 정상 범위 |
| 베타 가입 | 548 | 521 | -5% | 주의 |
| 유료 전환 | 58 | 62 | +7% | 양호 |
| 매출 | ₩1,734,200 | ₩1,853,800 | +7% | 양호 |

**Step 2: 퍼널 분석 (10분)**

```
베타 신청 퍼널:
1. 방문(4,080) → 2. 50% 스크롤(2,448, 60%)
   → 3. CTA 클릭(1,712, 70%) → 4. 가입(521, 30%)

전주 대비 변화:
- CTA 클릭률: 70% → 70% (변화 없음)
- 가입 전환율: 30% → 30% (변화 없음)

결론: 방문자 감소가 가입 감소의 원인. 마케팅 점검 필요.
```

**Step 3: 액션 아이템 (10분)**

```markdown
## 이번 주 액션

### Issue 1: 신규 방문자 5% 감소
- 원인 가설: 네이버 광고 예산 소진
- 담당: 마케팅팀
- 기한: 수요일까지 광고 예산 확인

### Issue 2: 결제 실패 7건 발생 (전주 3건)
- 원인: PortOne 에러 로그 확인 필요
- 담당: 백엔드팀
- 기한: 목요일까지 원인 파악
```

### 4.2 알림 설정

**전환율 급락 감지**

전환율이 정상 범위(12-15%)를 벗어나면 Slack으로 즉시 알림합니다.

**설정 방법**:
- GA4 → 관리 → 맞춤 알림
- 조건: `sign_up` 이벤트 수가 전주 대비 30% 미만
- 알림: 이메일 + Slack 웹훅

**알림 예시**:
```
🚨 전환율 급락 감지
현재: 7.5% (정상: 12-15%)
최근 1시간: 200명 방문, 15명 가입
즉시 확인 필요
```

**결제 실패 급증**

시간당 5건 이상 결제 실패 시 긴급 알림.

### 4.3 리포트 자동화

**Looker Studio 대시보드 구성**

**경영진용 (주간 리포트)**:
- 신규 방문자, 베타 가입, 유료 전환, 매출
- 주간 트렌드 그래프
- 전주 대비 증감률

**제품팀용 (상세 분석)**:
- 퍼널 단계별 전환율
- 병목 구간 하이라이트
- 세그먼트별 비교 (모바일/데스크톱, 유입 경로)

**자동 발송**:
- 매주 월요일 오전 8시
- 이메일 자동 발송
- PDF 첨부

### 4.4 데이터 기반 의사결정 프로세스

**1단계: 문제 발견** (GA 퍼널 분석)
```
예시: "CTA 클릭률이 60%로 하락 (정상 70%)"
```

**2단계: 원인 분석** (세그먼트 분석)
```
모바일: 50% (전주 65%)
데스크톱: 75% (전주 75%)
→ 모바일 문제로 특정
```

**3단계: 가설 수립** (정성 조사)
```
히트맵 분석: 모바일에서 CTA 버튼이 작아 클릭 어려움
가설: 버튼 크기를 키우면 클릭률 증가
```

**4단계: A/B 테스트** (검증)
```
A: 기존 버튼 (높이 40px)
B: 큰 버튼 (높이 56px)
→ 2주 테스트 → B 승리 (65% 전환)
```

**5단계: 적용 및 모니터링**
```
Winner 적용 → 2주 모니터링
결과: 모바일 클릭률 50% → 64% 회복
```

### 4.5 월간 회고

**매월 마지막 금요일, 1시간**

**달성 지표 리뷰**:
```
목표: 베타 가입 400명
실적: 548명 (137% 달성)
```

**Top 3 Insights**:
```
1. Hero 헤드라인 변경으로 전환율 +1.7%p 개선
2. 모바일 폼 UX 개선으로 이탈률 20% 감소
3. Sticky CTA 추가로 월 280명 추가 전환
```

**다음 달 목표**:
```
베타 가입 목표: 600명 (전월 대비 +9.5%)
개선 과제: 유료 전환율 10% → 13% 향상
```

---

## 부록: 참고 자료

### GA4 학습 리소스
- Google Analytics 공식 문서
- Measure School YouTube 채널 (영문)
- Analytics Mania 블로그

### 통계 도구
- Sample Size Calculator: [Optimizely](https://www.optimizely.com/sample-size-calculator/)
- P-value Calculator: [GraphPad](https://www.graphpad.com/quickcalcs/)

### 기존 문서
- `00-current-state-analysis.md`: 현재 상태 상세 분석
- `01-event-tracking-spec.md`: 전체 이벤트 명세 (30개)
- `02-implementation-guide.md`: 구현 세부 가이드
- `examples/tracking-examples.ts`: 코드 예시

---

**문서 버전**: 2.0
**최종 수정**: 2025-01-XX